<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Anexo: Ejercicios de XPath &#8212; Apuntes de Lenguajes de Marcas v1.3</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <script src="../../_static/documentation_options.js?v=7ece2587"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=efdbd0b9"></script>
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
    <link rel="next" title="Anexo: Ejercicios de XQuery" href="../xquery/anexo_ejercicios_xquery.html" />
    <link rel="prev" title="Anexo: ejercicios sobre XSLT" href="../xslt/anexo_ejercicios_xslt.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="anexo-ejercicios-de-xpath">
<h1>Anexo: Ejercicios de XPath<a class="headerlink" href="#anexo-ejercicios-de-xpath" title="Link to this heading">¶</a></h1>
<p>En los ejercicios siguientes se asume que se va a utilizar el fichero siguiente:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;inventario&gt;</span>
<span class="w">    </span><span class="nt">&lt;producto</span><span class="w"> </span><span class="na">codigo=</span><span class="s">&quot;AAA-111&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;nombre&gt;</span>Teclado<span class="nt">&lt;/nombre&gt;</span>
<span class="w">        </span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>480<span class="nt">&lt;/peso&gt;</span>
<span class="w">    </span><span class="nt">&lt;/producto&gt;</span>
<span class="w">    </span><span class="nt">&lt;producto</span><span class="w"> </span><span class="na">codigo=</span><span class="s">&quot;ACD-981&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;nombre&gt;</span>Monitor<span class="nt">&lt;/nombre&gt;</span>
<span class="w">        </span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;kg&quot;</span><span class="nt">&gt;</span>1.8<span class="nt">&lt;/peso&gt;</span>
<span class="w">    </span><span class="nt">&lt;/producto&gt;</span>
<span class="w">    </span><span class="nt">&lt;producto</span><span class="w"> </span><span class="na">codigo=</span><span class="s">&quot;DEZ-138&quot;</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;nombre&gt;</span>Raton<span class="nt">&lt;/nombre&gt;</span>
<span class="w">        </span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>50<span class="nt">&lt;/peso&gt;</span>
<span class="w">    </span><span class="nt">&lt;/producto&gt;</span>
<span class="nt">&lt;/inventario&gt;</span>
</pre></div>
</div>
<p>Resolver los siguientes problemas usando expresiones XPath. Si no nos dicen nada se puede asumir que las etiquetas no deben incluirse.</p>
<ul class="simple">
<li><p>Extraer todos los elementos peso (etiqueta incluida).</p></li>
<li><p>Extraer las cantidades de todos los elementos peso (sin la etiqueta &lt;peso&gt;).</p></li>
<li><p>Extraer el peso del ultimo elemento.</p></li>
<li><p>Extraer las distintas unidades en las que se han almacenado los pesos.</p></li>
<li><p>Extraer el penúltimo codigo.</p></li>
<li><p>Extraer el peso del elemento cuyo codigo sea AAA-111.</p></li>
<li><p>Extraer el nombre de los productos que hayan puesto el peso en gramos.</p></li>
<li><p>Extraer el codigo de los productos cuyo nombre sea «Monitor».</p></li>
<li><p>Extraer el código de los productos que pesen más de un cuarto de kilo.</p></li>
</ul>
<section id="soluciones">
<h2>Soluciones<a class="headerlink" href="#soluciones" title="Link to this heading">¶</a></h2>
<p>Para el enunciado  <em>Extraer todos los elementos peso (etiqueta incluida)</em> . La solución sería algo como esto <code class="docutils literal notranslate"><span class="pre">/inventario/producto/peso</span></code> . De hecho nos devuelve esto:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>480<span class="nt">&lt;/peso&gt;</span>
<span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;kg&quot;</span><span class="nt">&gt;</span>1.8<span class="nt">&lt;/peso&gt;</span>
<span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>50<span class="nt">&lt;/peso&gt;</span>
</pre></div>
</div>
<p>Enunciado: <em>Extraer las cantidades de todos los elementos peso (sin la etiqueta &lt;peso&gt;)</em>. La solución sería <code class="docutils literal notranslate"><span class="pre">/inventario/producto/peso/text()</span></code>. La expresión devuelve</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>480
1.8
50
</pre></div>
</div>
<p>Enunciado:<em>Extraer el peso del ultimo producto.</em>. Una posible solución <strong>equivocada</strong> sería esta <code class="docutils literal notranslate"><span class="pre">/inventario/producto/peso[last()]</span></code>, que en realidad recupera «el último peso de cada producto», es decir recupera muchos, como muestra el resultado siguiente:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>480<span class="nt">&lt;/peso&gt;</span>
<span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;kg&quot;</span><span class="nt">&gt;</span>1.8<span class="nt">&lt;/peso&gt;</span>
<span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>50<span class="nt">&lt;/peso&gt;</span>
</pre></div>
</div>
<p>La expresión correcta sería <code class="docutils literal notranslate"><span class="pre">/inventario/producto[last()]/peso</span></code> que devuelve esto</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>50<span class="nt">&lt;/peso&gt;</span>
</pre></div>
</div>
<p>Enunciado: <em>Extraer las distintas unidades en las que se han almacenado los pesos</em>. Una posible solución sería esta <code class="docutils literal notranslate"><span class="pre">/inventario/producto/peso/&#64;unidad</span></code>, que devuelve esto:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>g
kg
g
</pre></div>
</div>
<p>Enunciado: <em>Extraer el penúltimo codigo.</em>. Una posible solucion sería esta:<code class="docutils literal notranslate"><span class="pre">/inventario/producto[last()-1]/&#64;codigo</span></code></p>
<p>Enunciado: <em>Extraer el peso del elemento cuyo codigo sea AAA-111.</em> <code class="docutils literal notranslate"><span class="pre">/inventario/producto[&#64;codigo=&quot;AAA-111&quot;]/peso</span></code></p>
<p>Esto devuelve como resultado:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>480<span class="nt">&lt;/peso&gt;</span>
</pre></div>
</div>
<p>Enunciado: <em>Extraer el nombre de los productos que hayan puesto el peso en gramos.</em></p>
<p>Una idea incorrecta sería esta <code class="docutils literal notranslate"><span class="pre">/inventario/producto/peso[&#64;unidad=&quot;g&quot;]</span></code>.
Esta está mal, porque recupera «pesos» en lugar de «nombres» . De hecho recupera esto:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>480<span class="nt">&lt;/peso&gt;</span>
<span class="nt">&lt;peso</span><span class="w"> </span><span class="na">unidad=</span><span class="s">&quot;g&quot;</span><span class="nt">&gt;</span>50<span class="nt">&lt;/peso&gt;</span>
</pre></div>
</div>
<p>Una correcta sería</p>
<p><code class="docutils literal notranslate"><span class="pre">/inventario/producto[peso/&#64;unidad=&quot;g&quot;]/nombre</span></code></p>
<p>Y otra posibilidad sería</p>
<p><code class="docutils literal notranslate"><span class="pre">/inventario/producto[peso[&#64;unidad=&quot;g&quot;]]/nombre</span></code></p>
<p>Que literalmente pone <em>«extraer el nombre de productos que cumplan la condicion de tener un hijo peso y a su vez ese hijo peso cumpla la condición de tener un atributo unidad con el valor g»</em></p>
<p>Esto devuelve</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;nombre&gt;</span>Teclado<span class="nt">&lt;/nombre&gt;</span>
<span class="nt">&lt;nombre&gt;</span>Raton<span class="nt">&lt;/nombre&gt;</span>
</pre></div>
</div>
<p>Enunciado: <em>Extraer el codigo de los productos cuyo nombre sea «Monitor»</em></p>
<p>Una posible solución sería</p>
<p><code class="docutils literal notranslate"><span class="pre">/inventario/producto[nombre/text()=&quot;Monitor&quot;]/&#64;codigo</span></code></p>
<p>Aunque en realidad también serviría lo siguiente:</p>
<p><code class="docutils literal notranslate"><span class="pre">/inventario/producto[nombre=&quot;Monitor&quot;]/&#64;codigo</span></code></p>
<p>La clave es que <strong>como el elemento nombre no tiene hijos entonces se permite comparar el elemento como una cadena</strong>. El evaluador XPath sobreentiende que queremos comparar «el contenido del elemento nombre» con la cadena «Monitor».</p>
<p>Enunciado: <em>Extraer el código de los productos que pesen más de un cuarto de kilo.</em>.</p>
<p>La solución sería</p>
<p><code class="docutils literal notranslate"><span class="pre">/inventario/producto[</span>
<span class="pre">(peso/&#64;unidad=&quot;g&quot;</span> <span class="pre">and</span> <span class="pre">peso/text()&gt;&quot;250&quot;)</span>
<span class="pre">or</span>
<span class="pre">(peso/&#64;unidad=&quot;kg&quot;</span> <span class="pre">and</span> <span class="pre">peso/text()&gt;&quot;0.25&quot;)</span>
<span class="pre">]/&#64;codigo</span></code></p>
</section>
<section id="informacion-bancaria">
<h2>Información bancaria<a class="headerlink" href="#informacion-bancaria" title="Link to this heading">¶</a></h2>
<p>Dado el siguiente fichero XML, contestar a las preguntas que se enuncian más abajo usando XPath.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;listado&gt;</span>
<span class="w">    </span><span class="nt">&lt;cuenta&gt;</span>
<span class="w">        </span><span class="nt">&lt;titular</span><span class="w"> </span><span class="na">dni=</span><span class="s">&quot;5671001D&quot;</span><span class="nt">&gt;</span>Ramon<span class="w"> </span>Perez<span class="nt">&lt;/titular&gt;</span>
<span class="w">        </span><span class="nt">&lt;saldoactual</span><span class="w"> </span><span class="na">moneda=</span><span class="s">&quot;euros&quot;</span><span class="nt">&gt;</span>12000<span class="nt">&lt;/saldoactual&gt;</span>
<span class="w">        </span><span class="nt">&lt;fechacreacion&gt;</span>13-abril-2012<span class="nt">&lt;/fechacreacion&gt;</span>
<span class="w">    </span><span class="nt">&lt;/cuenta&gt;</span>
<span class="w">    </span><span class="nt">&lt;fondo&gt;</span>
<span class="w">        </span><span class="nt">&lt;cuentaasociada&gt;</span>20-A<span class="nt">&lt;/cuentaasociada&gt;</span>
<span class="w">        </span><span class="nt">&lt;datos&gt;</span>
<span class="w">            </span><span class="nt">&lt;cantidaddepositada&gt;</span>20000<span class="nt">&lt;/cantidaddepositada&gt;</span>
<span class="w">            </span><span class="nt">&lt;moneda&gt;</span>Euros<span class="nt">&lt;/moneda&gt;</span>
<span class="w">        </span><span class="nt">&lt;/datos&gt;</span>
<span class="w">    </span><span class="nt">&lt;/fondo&gt;</span>
<span class="w">    </span><span class="nt">&lt;fondo&gt;</span>
<span class="w">        </span><span class="nt">&lt;cuentaasociada&gt;</span>21-DX<span class="nt">&lt;/cuentaasociada&gt;</span>
<span class="w">        </span><span class="nt">&lt;datos&gt;</span>
<span class="w">            </span><span class="nt">&lt;cantidaddepositada&gt;</span>4800<span class="nt">&lt;/cantidaddepositada&gt;</span>
<span class="w">            </span><span class="nt">&lt;moneda&gt;</span>Dolares<span class="nt">&lt;/moneda&gt;</span>
<span class="w">        </span><span class="nt">&lt;/datos&gt;</span>
<span class="w">    </span><span class="nt">&lt;/fondo&gt;</span>
<span class="w">    </span><span class="nt">&lt;cuenta&gt;</span>
<span class="w">        </span><span class="nt">&lt;titular</span><span class="w"> </span><span class="na">dni=</span><span class="s">&quot;39812341C&quot;</span><span class="nt">&gt;</span>Carmen<span class="w"> </span>Diaz<span class="nt">&lt;/titular&gt;</span>
<span class="w">        </span><span class="nt">&lt;saldoactual</span><span class="w"> </span><span class="na">moneda=</span><span class="s">&quot;euros&quot;</span><span class="nt">&gt;</span>1900<span class="nt">&lt;/saldoactual&gt;</span>
<span class="w">        </span><span class="nt">&lt;fechacreacion&gt;</span>15-febrero-2011<span class="nt">&lt;/fechacreacion&gt;</span>
<span class="w">    </span><span class="nt">&lt;/cuenta&gt;</span>
<span class="nt">&lt;/listado&gt;</span>
</pre></div>
</div>
</section>
<section id="consulta-cantidad-depositada">
<h2>Consulta: «cantidad depositada»<a class="headerlink" href="#consulta-cantidad-depositada" title="Link to this heading">¶</a></h2>
<p><em>Extraer la cantidad depositada en la cuenta 20-A</em></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/listado/fondo</span></code> nos devolvería todos los elementos <code class="docutils literal notranslate"><span class="pre">fondo</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/listado/fondo/datos</span></code> nos devolvería todos los elementos <code class="docutils literal notranslate"><span class="pre">datos</span></code> que sean hijos de <code class="docutils literal notranslate"><span class="pre">fondo</span></code> los cuales a su vez deben ir dentro de <code class="docutils literal notranslate"><span class="pre">inventario</span></code>.</p></li>
</ul>
<p>Como nos piden una cantidad el último elemento XPath debe ser forzosamente <code class="docutils literal notranslate"><span class="pre">cantidad</span></code>. Como nos ponen una condición tendremos que usar corchetes. El elemento <code class="docutils literal notranslate"><span class="pre">cuentaasociada</span></code> es hijo de <code class="docutils literal notranslate"><span class="pre">fondo</span></code> así que una buena posibilidad sería poner la condicion con el elemento fondo, así tendríamos que</p>
<p>Si añadimos la condición parece entonces que una buena posibilidad sería algo como esto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">listado</span><span class="o">/</span><span class="n">fondo</span><span class="p">[</span><span class="n">cuentaasociada</span> <span class="o">=</span> <span class="s2">&quot;20-A&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">datos</span><span class="o">/</span><span class="n">cantidaddepositada</span>
</pre></div>
</div>
<p>Si realmenten nos piden la cantidad sin etiquetas podemos añadir al final <code class="docutils literal notranslate"><span class="pre">/text()</span></code> y dejarlo así:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">listado</span><span class="o">/</span><span class="n">fondo</span><span class="p">[</span><span class="n">cuentaasociada</span> <span class="o">=</span> <span class="s2">&quot;20-A&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">datos</span><span class="o">/</span><span class="n">cantidaddepositada</span><span class="o">/</span><span class="n">text</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="consulta-monedas-usadas">
<h2>Consulta: «monedas usadas»<a class="headerlink" href="#consulta-monedas-usadas" title="Link to this heading">¶</a></h2>
<p><em>Extraer un listado sin etiquetas de todas las monedas usadas por los distintos fondos</em></p>
<p>La consulta sería simplemente:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">listado</span><span class="o">/</span><span class="n">fondo</span><span class="o">/</span><span class="n">datos</span><span class="o">/</span><span class="n">moneda</span><span class="o">/</span><span class="n">text</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="consulta-dnis-con-dolares">
<h2>Consulta: «dnis con dólares»<a class="headerlink" href="#consulta-dnis-con-dolares" title="Link to this heading">¶</a></h2>
<p><em>Extraer el DNI de las cuentas que usen dolares como moneda de base</em></p>
<p>En las cuentas la moneda es un atributo de <code class="docutils literal notranslate"><span class="pre">saldoactual</span></code>, por lo que la condición debería ser:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span><span class="p">[</span><span class="nd">@moneda</span><span class="o">=</span><span class="s2">&quot;dolares&quot;</span><span class="p">]</span><span class="o">...</span>
</pre></div>
</div>
<p>Como nos piden el DNI  este debe ser el campo que debe aparecer al final del XPath. Aparte de eso el DNI es un atributo de <code class="docutils literal notranslate"><span class="pre">titular</span></code>, por lo que la consulta debería ser algo así:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span><span class="p">[</span><span class="nd">@moneda</span><span class="o">=</span><span class="s2">&quot;dolares&quot;</span><span class="p">]</span><span class="o">...</span> <span class="o">/</span><span class="nd">@dni</span>
</pre></div>
</div>
<p>Como el <code class="docutils literal notranslate"><span class="pre">dni</span></code> es un atributo de <code class="docutils literal notranslate"><span class="pre">titular</span></code> y <code class="docutils literal notranslate"><span class="pre">moneda</span></code> es un atributo de <code class="docutils literal notranslate"><span class="pre">saldoactual</span></code> una buena posibilidad es mover la condición al elemento padre <code class="docutils literal notranslate"><span class="pre">cuenta</span></code> y hacer algo así:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">listado</span><span class="o">/</span><span class="n">cuenta</span><span class="p">[</span><span class="n">saldoactual</span><span class="o">/</span><span class="nd">@moneda</span> <span class="o">=</span> <span class="s2">&quot;dolares&quot;</span><span class="p">]</span><span class="o">/</span><span class="n">titular</span><span class="o">/</span><span class="nd">@dni</span>
</pre></div>
</div>
<p>Obsérvese que para el ejemplo dado <strong>no hay ningún resultado</strong> (de hecho el evaluador dará error porque nadie cumple la condición). Si se desea comprobar que el XPath está bien se invita al lector a añadir datos al conjunto para verificar que la expresión XPath funciona correctamente.</p>
</section>
<section id="consulta-fondos-con-menos-de-2500-euros">
<h2>Consulta: «fondos con menos de 2500 euros»<a class="headerlink" href="#consulta-fondos-con-menos-de-2500-euros" title="Link to this heading">¶</a></h2>
<p><em>Extraer toda la información de los fondos que usen «euros» por un valor inferior a 2500</em></p>
<p>Por el texto del enunciado es evidente que el último elemento del XPath debe ser <code class="docutils literal notranslate"><span class="pre">fondo</span></code>, por lo que de momento podemos saber que la expresión tendría este aspecto:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.../</span><span class="n">fondo</span>
</pre></div>
</div>
<p>También es evidente que hay una condición de filtrado. Esta condición tiene dos partes:</p>
<ul class="simple">
<li><p>Por un lado la divisa debe ser «Dolares». La divisa va dentro del elemento <code class="docutils literal notranslate"><span class="pre">moneda</span></code> que es hijo de <code class="docutils literal notranslate"><span class="pre">datos</span></code> que a su vez es hijo de <code class="docutils literal notranslate"><span class="pre">fondo</span></code></p></li>
<li><p>Por otro lado la cantidad debe ser inferior a 2500. Esta información está en <code class="docutils literal notranslate"><span class="pre">cantidaddepositada</span></code>.</p></li>
<li><p>Para este caso necesitamos que se cumplan ambas condiciones por lo que deberemos usar <code class="docutils literal notranslate"><span class="pre">AND</span></code></p></li>
</ul>
<p>Una posible consulta que resuelve esto es:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">listado</span><span class="o">/</span><span class="n">fondo</span><span class="p">[</span><span class="n">datos</span><span class="o">/</span><span class="n">cantidaddepositada</span><span class="o">&lt;</span><span class="mi">2500</span> <span class="ow">and</span> <span class="n">datos</span><span class="o">/</span><span class="n">moneda</span> <span class="o">=</span> <span class="s2">&quot;Dolares&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>De nuevo nos encontramos con que el programa puede dar un error, lo que tiene todo el sentido del mundo, ya que le pedimos que extraiga datos de algo que no existe.</p>
</section>
<section id="ejercicios-resueltos-sobre-proveedores-partes">
<h2>Ejercicios resueltos sobre «proveedores/partes»<a class="headerlink" href="#ejercicios-resueltos-sobre-proveedores-partes" title="Link to this heading">¶</a></h2>
<section id="xpath-i">
<h3>XPath I<a class="headerlink" href="#xpath-i" title="Link to this heading">¶</a></h3>
<p>Recuperar el nombre de todas las partes, sin etiqueta, solo textos</p>
<p>Solución:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">datos</span><span class="o">/</span><span class="n">partes</span><span class="o">/</span><span class="n">parte</span><span class="o">/</span><span class="n">nombreparte</span><span class="o">/</span><span class="n">text</span><span class="p">()</span>
<span class="o">//</span><span class="n">nombreparte</span><span class="o">/</span><span class="n">text</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="xpath-ii">
<h3>XPath II<a class="headerlink" href="#xpath-ii" title="Link to this heading">¶</a></h3>
<p>Recuperar el nombre de los proyectos con el numproyecto y1, y3 e y5.</p>
<p>Tiene trampa. Al leer deprisa podemos pensar que la condición es un <code class="docutils literal notranslate"><span class="pre">and</span></code></p>
<dl class="simple">
<dt>Solución::</dt><dd><p>//proyecto[&#64;numproyecto=”y1” and &#64;numproyecto=”y3” and &#64;numproyecto=”y5”]/nombreproyecto</p>
</dd>
</dl>
<p>Pero <strong>nadie cumple esa condición</strong>. Nadie puede tener los tres código a la vez. En realidad la solución es con <code class="docutils literal notranslate"><span class="pre">or</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">proyecto</span><span class="p">[</span><span class="nd">@numproyecto</span><span class="o">=</span><span class="s1">&#39;y1&#39;</span> <span class="ow">or</span> <span class="nd">@numproyecto</span><span class="o">=</span><span class="s1">&#39;y3&#39;</span> <span class="ow">or</span> <span class="nd">@numproyecto</span><span class="o">=</span><span class="s1">&#39;y5&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">nombreproyecto</span>
</pre></div>
</div>
</section>
<section id="xpath-iii">
<h3>XPath III<a class="headerlink" href="#xpath-iii" title="Link to this heading">¶</a></h3>
<p>Recuperar el nombre de los proyectos donde la cantidad suministrada sea mayor que 550.</p>
<p>Tal y como está planteado <strong>no se puede resolver con XPath</strong></p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Apuntes de Lenguajes de Marcas</a></h1>








<h3>Navegación</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../tema1.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tema2.html">HTML5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tema3.html">CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tema4.html">Javascript</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tema5.html">XML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tema6.html">Recuperación de información</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tema7.html">Sindicación y transformación de contenidos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tema8.html">Sistemas de gestión de información</a></li>
<li class="toctree-l1"><a class="reference internal" href="../html/anexo_tablas.html">Anexo: ejercicios sobre tablas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../formularios/anexo_formularios.html">Anexo: ejercicios sobre formularios</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esquemas/ejercicios_dtd.html">Anexo: Ejercicios DTDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esquemas/ejercicios_dtd.html#lista-de-productos">Lista de productos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../grids/anexo.html">Anexo: ejercicios sobre «grids»</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xslt/anexo_ejercicios_xslt.html">Anexo: ejercicios sobre XSLT</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Anexo: Ejercicios de XPath</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#soluciones">Soluciones</a></li>
<li class="toctree-l2"><a class="reference internal" href="#informacion-bancaria">Información bancaria</a></li>
<li class="toctree-l2"><a class="reference internal" href="#consulta-cantidad-depositada">Consulta: «cantidad depositada»</a></li>
<li class="toctree-l2"><a class="reference internal" href="#consulta-monedas-usadas">Consulta: «monedas usadas»</a></li>
<li class="toctree-l2"><a class="reference internal" href="#consulta-dnis-con-dolares">Consulta: «dnis con dólares»</a></li>
<li class="toctree-l2"><a class="reference internal" href="#consulta-fondos-con-menos-de-2500-euros">Consulta: «fondos con menos de 2500 euros»</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ejercicios-resueltos-sobre-proveedores-partes">Ejercicios resueltos sobre «proveedores/partes»</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xpath-i">XPath I</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xpath-ii">XPath II</a></li>
<li class="toctree-l3"><a class="reference internal" href="#xpath-iii">XPath III</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../xquery/anexo_ejercicios_xquery.html">Anexo: Ejercicios de XQuery</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../xslt/anexo_ejercicios_xslt.html" title="capítulo anterior">Anexo: ejercicios sobre XSLT</a></li>
      <li>Next: <a href="../xquery/anexo_ejercicios_xquery.html" title="próximo capítulo">Anexo: Ejercicios de XQuery</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Ir a" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Oscar Gomez.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/ejercicios/xpath/anexo_ejercicios_xpath.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>